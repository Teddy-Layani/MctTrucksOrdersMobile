sap.ui.define([],function(){"use strict";return{processSystemError:function(e,o,r){if(!sap.ui.getCore().oLoansSalesContext){sap.ui.getCore().oLoansSalesContext={}}if(sap.ui.getCore().oLoansSalesContext.oErrorDialog&&sap.ui.getCore().oLoansSalesContext.oErrorDialog.isOpen()){return}if(!sap.ui.getCore().oLoansSalesContext.oErrorDialog){sap.ui.getCore().oLoansSalesContext.oErrorDialog=o.error.getDialog(o);o.getView().addDependent(sap.ui.getCore().oLoansSalesContext.oErrorDialog)}var s;if(e&&e.headers["sap-message"]&&e.headers["sap-message"].indexOf('"severity":"error"')>-1){var a=JSON.parse(e.headers["sap-message"]);s={message:a.message,type:a.severity,bShowDetails:false}}else if(e&&e.headers["sap-message"]&&e.headers["sap-message"].indexOf("<severity>error</severity>")>-1){var t=new sap.ui.model.xml.XMLModel;t.setXML(e.headers["sap-message"]);var n=t.getProperty("/message");s={responseText:n,type:"error",bShowDetails:false}}else if(r){s={responseText:r,type:"error",bShowDetails:false}}else{s={responseText:"",type:"info",bShowDetails:false}}if(s){sap.ui.getCore().oLoansSalesContext.oErrorDialog.setModel(new sap.ui.model.json.JSONModel(s),"errorModel")}o.getView().setBusy(false);if(s.type!=="info"){sap.ui.getCore().oLoansSalesContext.oErrorDialog.open();return true}else{return false}},processConnectionError:function(e,o){if(!sap.ui.getCore().oLoansSalesContext){sap.ui.getCore().oLoansSalesContext={}}if(sap.ui.getCore().oLoansSalesContext.oErrorDialog&&sap.ui.getCore().oLoansSalesContext.oErrorDialog.isOpen()){return}if(!sap.ui.getCore().oLoansSalesContext.oErrorDialog){sap.ui.getCore().oLoansSalesContext.oErrorDialog=o.error.getDialog(o)}try{var r=JSON.parse(e.responseText)}catch(e){var r={}}var s="";try{s=r.error.message.value}catch(e){s=""}var a={responseText:s,fullResponse:e.responseText,message:e.message,status:e.statusCode,type:"Error",bShowDetails:false};o.getView().setBusy(false);var t=new sap.ui.model.json.JSONModel(a);sap.ui.getCore().oLoansSalesContext.oErrorDialog.setModel(t,"errorModel");sap.ui.getCore().oLoansSalesContext.oErrorDialog.setModel(o.getOwnerComponent().getModel("i18n"),"i18n");sap.ui.getCore().oLoansSalesContext.oErrorDialog.open()},getDialog:function(e){var o=new sap.m.HBox({items:[new sap.m.Label({text:"{i18n>connectionErrorTitle}"}).addStyleClass("font-1d5rem margin-bottom-20")]});var r=new sap.m.VBox({items:[new sap.m.FormattedText({htmlText:"<h2><strong>{errorModel>/responseText}</strong></h2>",visible:"{=${errorModel>/responseText} ? true : false}"}).addStyleClass(" margin-bottom-20"),new sap.m.Link({text:"{=${errorModel>/bShowDetails} ? ${i18n>hideDetails} : ${i18n>showDetails}}",press:[e.error.onSeeErrorDetailsPress,e],visible:"{=${errorModel>/responseText} ? true : false}"})]});var s=new sap.m.HBox({justifyContent:"End",items:[new sap.m.Button({text:"{i18n>close}",press:[e.error.closeErrorDialog,e]}).addStyleClass("sapUiSmallMarginBeginEnd nextBTN")]}).addStyleClass("justContentCenter");var a=new sap.m.HBox({renderType:sap.m.FlexRendertype.Bare,items:[new sap.m.TextArea({visible:"{=${errorModel>/bShowDetails} ? true : false}",value:"{errorModel>/fullResponse}",enabled:false,width:"450px",rows:4,press:[e.error.onSeeErrorDetailsPress,e]}).addStyleClass("sapUiSmallMarginBeginEnd")]}).addStyleClass("margin-auto");var t=new sap.m.VBox({width:"100%",items:[o,r,a,s]}).addStyleClass("content-padding");var n=new sap.m.Dialog({showHeader:false,contentWidth:"500px",content:[t]}).addStyleClass("errorDialog jobsPage");return n},onSeeErrorDetailsPress:function(e){var o=sap.ui.getCore().oLoansSalesContext.oErrorDialog.getModel("errorModel").getProperty("/bShowDetails");sap.ui.getCore().oLoansSalesContext.oErrorDialog.getModel("errorModel").setProperty("/bShowDetails",!o)},closeErrorDialog:function(){if(sap.ui.getCore().oLoansSalesContext.oErrorDialog){sap.ui.getCore().oLoansSalesContext.oErrorDialog.close();sap.ui.getCore().oLoansSalesContext.oErrorDialog.destroy(true);sap.ui.getCore().oLoansSalesContext.oErrorDialog=undefined}},closeDelegayeErrorPopUp:function(){if(sap.ui.getCore().GoDelegayeError){sap.ui.getCore().GoDelegayeError.close();sap.ui.getCore().GoDelegayeError.destroy(true);sap.ui.getCore().GoDelegayeError=undefined}},onRequestCompleted:function(e,o,r){var s=r.getParameter("response").headers;if(s["sap-message"]&&s["sap-message"].indexOf("<severity>error</severity>")>-1){var a=this.CustomError.getSapMessage(s["sap-message"]);this.CustomError.successWithError(null,this,a)}else{return}},getSapMessage:function(e){var o=new sap.ui.model.xml.XMLModel;o.setXML(e);return o.getProperty("/message")}}});